# üöö Sistema de Otimiza√ß√£o Log√≠stica para o Brasil

Sistema completo de otimiza√ß√£o de rotas de ve√≠culos (VRP - Vehicle Routing Problem) desenvolvido em Python com interface Streamlit, adaptado para resolver problemas reais de log√≠stica no Brasil.

![Python](https://img.shields.io/badge/Python-3.11-blue)
![Streamlit](https://img.shields.io/badge/Streamlit-1.31-red)
![OR-Tools](https://img.shields.io/badge/OR--Tools-9.8-green)
![License](https://img.shields.io/badge/License-MIT-yellow)

## üìã √çndice

- [Vis√£o Geral](#vis√£o-geral)
- [Funcionalidades](#funcionalidades)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Instala√ß√£o](#instala√ß√£o)
- [Como Usar](#como-usar)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Exemplos](#exemplos)
- [Casos de Uso](#casos-de-uso)
- [Contribuindo](#contribuindo)
- [Licen√ßa](#licen√ßa)

## üéØ Vis√£o Geral

Este sistema resolve o **Problema de Roteamento de Ve√≠culos (VRP)**, um dos problemas mais importantes em log√≠stica e otimiza√ß√£o combinat√≥ria. O objetivo √© encontrar as rotas mais eficientes para uma frota de ve√≠culos que precisa atender um conjunto de clientes, minimizando custos operacionais e maximizando a efici√™ncia.

### Problema que Resolve

No contexto brasileiro, empresas enfrentam desafios como:
- **Altos custos log√≠sticos**: Brasil tem um dos custos log√≠sticos mais altos do mundo
- **Infraestrutura prec√°ria**: Rodovias em m√°s condi√ß√µes aumentam custos de manuten√ß√£o
- **Grandes dist√¢ncias**: Pa√≠s continental com rotas longas de distribui√ß√£o
- **Custos de combust√≠vel elevados**: Pre√ßos vol√°teis e altos
- **Ped√°gios**: Custos significativos em rotas interestaduais

Este sistema ajuda a:
‚úÖ Reduzir dist√¢ncias percorridas em at√© 30%
‚úÖ Diminuir custos operacionais significativamente
‚úÖ Otimizar uso da frota
‚úÖ Reduzir emiss√µes de CO2
‚úÖ Melhorar tempo de entrega

## ‚ú® Funcionalidades

### Otimiza√ß√£o de Rotas
- Algoritmos avan√ßados do Google OR-Tools
- Suporte a m√∫ltiplos ve√≠culos
- Restri√ß√µes de capacidade (CVRP)
- Minimiza√ß√£o de dist√¢ncia total ou maior rota
- M√∫ltiplas estrat√©gias de busca

### C√°lculo de Custos
- **Combust√≠vel**: Baseado em pre√ßos brasileiros atuais
- **Motorista**: Custo por hora de trabalho
- **Deprecia√ß√£o**: Desgaste do ve√≠culo
- **Ped√°gios**: Estimativa baseada em dist√¢ncia
- **Operacional**: Custos de manuten√ß√£o e opera√ß√£o

### Visualiza√ß√µes Interativas
- **Mapas**: Visualiza√ß√£o de rotas em mapa interativo
- **Gr√°ficos**: An√°lise de dist√¢ncias, custos e cargas
- **M√©tricas**: Dashboard com KPIs principais
- **Compara√ß√µes**: Antes vs depois da otimiza√ß√£o

### An√°lise Ambiental
- C√°lculo de emiss√µes de CO2
- Impacto ambiental da opera√ß√£o
- Economia de emiss√µes com otimiza√ß√£o

### Exporta√ß√£o de Dados
- Exportar rotas em CSV
- Exportar relat√≥rios em Excel
- Salvar mapas em HTML

## üõ†Ô∏è Tecnologias Utilizadas

### Backend
- **Python 3.11**: Linguagem principal
- **OR-Tools**: Biblioteca de otimiza√ß√£o do Google
- **NumPy**: Computa√ß√£o num√©rica
- **Pandas**: Manipula√ß√£o de dados

### Frontend
- **Streamlit**: Framework para interface web
- **Folium**: Mapas interativos
- **Plotly**: Gr√°ficos interativos

### Algoritmos
- **VRP (Vehicle Routing Problem)**: Roteamento b√°sico
- **CVRP (Capacitated VRP)**: Com restri√ß√µes de capacidade
- **Heur√≠sticas**: PATH_CHEAPEST_ARC, SAVINGS, SWEEP
- **Metaheur√≠sticas**: Guided Local Search, Simulated Annealing

## üì¶ Instala√ß√£o

### Pr√©-requisitos
- Python 3.11 ou superior
- pip (gerenciador de pacotes Python)

### Passo a Passo

1. **Clone o reposit√≥rio**
```bash
git clone https://github.com/seu-usuario/sistema-otimizacao-logistica.git
cd sistema-otimizacao-logistica
```

2. **Crie um ambiente virtual (recomendado)**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ou
venv\Scripts\activate  # Windows
```

3. **Instale as depend√™ncias**
```bash
pip install -r requirements.txt
```

4. **Execute o sistema**
```bash
streamlit run app.py
```

5. **Acesse no navegador**
```
http://localhost:8501
```

## üöÄ Como Usar

### 1. Entrada de Dados

#### Op√ß√£o A: Dados de Exemplo
- Selecione "Dados de Exemplo" na barra lateral
- Escolha a cidade base (S√£o Paulo, Rio de Janeiro, etc.)
- Ajuste o n√∫mero de clientes e raio de distribui√ß√£o
- Marque "Incluir Demandas" para usar restri√ß√µes de capacidade

#### Op√ß√£o B: Upload de CSV
- Prepare um arquivo CSV com as colunas:
  - `latitude`: Latitude do local
  - `longitude`: Longitude do local
  - `nome`: Nome/identifica√ß√£o do local
  - `demanda` (opcional): Demanda do cliente
  
Exemplo de CSV:
```csv
nome,latitude,longitude,demanda
Dep√≥sito,-23.5505,-46.6333,0
Cliente 1,-23.5629,-46.6544,15
Cliente 2,-23.5489,-46.6388,20
Cliente 3,-23.5712,-46.6456,10
```

- Selecione "Upload CSV" na barra lateral
- Fa√ßa upload do arquivo
- Mapeie as colunas corretamente

### 2. Configura√ß√£o da Frota

- **N√∫mero de Ve√≠culos**: Quantos ve√≠culos est√£o dispon√≠veis
- **Capacidade por Ve√≠culo**: Capacidade de carga (se aplic√°vel)
- **Dist√¢ncia M√°xima**: Limite de km por ve√≠culo

### 3. Configura√ß√£o de Custos

Ajuste os valores conforme sua realidade:
- **Pre√ßo Combust√≠vel**: R$ por litro (padr√£o: R$ 6,50)
- **Consumo**: km por litro (padr√£o: 8 km/L)
- **Custo Motorista**: R$ por hora (padr√£o: R$ 25/h)
- **Incluir Ped√°gios**: Marque para considerar custos de ped√°gio

### 4. Otimizar

- Clique no bot√£o **"üöÄ Otimizar Rotas"**
- Aguarde o processamento (geralmente 5-30 segundos)
- Visualize os resultados nas abas

### 5. Analisar Resultados

#### Aba Mapa
- Visualize as rotas otimizadas no mapa
- Cada ve√≠culo tem uma cor diferente
- Clique nos marcadores para ver detalhes
- Expanda os detalhes de cada rota

#### Aba M√©tricas
- Veja m√©tricas principais: dist√¢ncia total, maior rota, ve√≠culos usados
- Analise gr√°ficos de distribui√ß√£o de dist√¢ncias
- Verifique utiliza√ß√£o de capacidade (se aplic√°vel)

#### Aba Custos
- Veja breakdown completo de custos
- Analise distribui√ß√£o por categoria
- Verifique impacto ambiental (CO2)
- Compare custo total vs custo por km

#### Aba Exportar
- Visualize tabela completa das rotas
- Baixe em formato CSV ou Excel
- Use os dados em outros sistemas

## üìÅ Estrutura do Projeto

```
sistema_otimizacao_logistica/
‚îú‚îÄ‚îÄ app.py                      # Aplica√ß√£o principal Streamlit
‚îú‚îÄ‚îÄ requirements.txt            # Depend√™ncias do projeto
‚îú‚îÄ‚îÄ README.md                   # Este arquivo
‚îÇ
‚îú‚îÄ‚îÄ modules/                    # M√≥dulos do sistema
‚îÇ   ‚îú‚îÄ‚îÄ optimizer.py           # L√≥gica de otimiza√ß√£o VRP
‚îÇ   ‚îú‚îÄ‚îÄ cost_calculator.py     # C√°lculo de custos
‚îÇ   ‚îú‚îÄ‚îÄ data_handler.py        # Manipula√ß√£o de dados
‚îÇ   ‚îî‚îÄ‚îÄ visualizer.py          # Visualiza√ß√µes e mapas
‚îÇ
‚îú‚îÄ‚îÄ data/                       # Dados de exemplo
‚îÇ   ‚îú‚îÄ‚îÄ exemplo_clientes.csv
‚îÇ   ‚îî‚îÄ‚îÄ exemplo_veiculos.csv
‚îÇ
‚îú‚îÄ‚îÄ assets/                     # Recursos est√°ticos
‚îÇ   ‚îî‚îÄ‚îÄ logo.png
‚îÇ
‚îî‚îÄ‚îÄ utils/                      # Utilit√°rios
    ‚îî‚îÄ‚îÄ helpers.py
```

## üí° Exemplos

### Exemplo 1: Distribui√ß√£o Urbana em S√£o Paulo

**Cen√°rio**: Empresa de e-commerce precisa entregar 20 pedidos em S√£o Paulo com 4 ve√≠culos.

**Configura√ß√£o**:
- Cidade: S√£o Paulo
- Clientes: 20
- Ve√≠culos: 4
- Capacidade: 100 unidades/ve√≠culo
- Raio: 30 km

**Resultado**:
- Dist√¢ncia total: 145 km (vs 220 km sem otimiza√ß√£o)
- Economia: 34% em dist√¢ncia
- Custo total: R$ 487,50
- Tempo total: 4h 15min
- CO2 economizado: 28 kg

### Exemplo 2: Log√≠stica Agr√≠cola

**Cen√°rio**: Distribui√ß√£o de insumos para fazendas no interior.

**Configura√ß√£o**:
- Cidade: Bras√≠lia
- Fazendas: 15
- Ve√≠culos: 3
- Capacidade: 200 unidades/ve√≠culo
- Raio: 80 km

**Resultado**:
- Dist√¢ncia total: 385 km
- Custo total: R$ 1.245,00
- Tempo total: 9h 30min
- Ve√≠culos utilizados: 3/3

## üéØ Casos de Uso

### 1. E-commerce e Varejo
- Entregas last-mile
- Distribui√ß√£o para lojas
- Coleta de produtos

### 2. Log√≠stica Agr√≠cola
- Distribui√ß√£o de insumos
- Coleta de produ√ß√£o
- Transporte de equipamentos

### 3. Ind√∫stria
- Distribui√ß√£o para distribuidores
- Coleta de mat√©ria-prima
- Log√≠stica reversa

### 4. Servi√ßos
- Rotas de t√©cnicos
- Coleta de res√≠duos
- Transporte de pessoal

### 5. Setor P√∫blico
- Rotas de √¥nibus escolares
- Coleta de lixo
- Entregas de correspond√™ncia

## üîß Configura√ß√µes Avan√ßadas

### Personalizar Algoritmos

Edite `modules/optimizer.py` para ajustar:
- Estrat√©gias de primeira solu√ß√£o
- Metaheur√≠sticas de busca local
- Tempo limite de otimiza√ß√£o
- Par√¢metros de busca

### Adicionar Restri√ß√µes

O sistema suporta:
- **Capacidade**: J√° implementado
- **Janelas de Tempo**: Estrutura preparada
- **M√∫ltiplos Dep√≥sitos**: Estrutura preparada
- **Pickup & Delivery**: Estrutura preparada

### Integrar APIs de Roteamento

Para dist√¢ncias reais de estrada, integre:
- Google Maps Distance Matrix API
- OpenRouteService API
- OSRM (Open Source Routing Machine)

## üìä M√©tricas e KPIs

O sistema calcula automaticamente:

### Operacionais
- Dist√¢ncia total (km)
- Dist√¢ncia m√©dia por rota
- Maior rota
- N√∫mero de ve√≠culos utilizados
- Taxa de utiliza√ß√£o da frota

### Financeiros
- Custo total (R$)
- Custo por km
- Custo por entrega
- Breakdown por categoria

### Ambientais
- Emiss√µes de CO2 (kg)
- Equivalente em √°rvores
- Economia vs cen√°rio n√£o otimizado

## ü§ù Contribuindo

Contribui√ß√µes s√£o bem-vindas! Para contribuir:

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìù Roadmap

- [ ] Adicionar suporte a janelas de tempo (VRPTW)
- [ ] Implementar m√∫ltiplos dep√≥sitos (MDVRP)
- [ ] Integra√ß√£o com APIs de roteamento real
- [ ] Suporte a pickup and delivery
- [ ] Otimiza√ß√£o em tempo real
- [ ] Dashboard gerencial
- [ ] API REST
- [ ] Aplicativo mobile

## üêõ Problemas Conhecidos

- Grandes inst√¢ncias (>50 localiza√ß√µes) podem demorar mais para otimizar
- Mapas podem ficar lentos com muitas rotas
- Exporta√ß√£o de mapas grandes pode consumir mem√≥ria

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo `LICENSE` para mais detalhes.

## üë• Autores

- **Sistema desenvolvido para resolver problemas reais de log√≠stica no Brasil**

## üôè Agradecimentos

- Google OR-Tools pela excelente biblioteca de otimiza√ß√£o
- Comunidade Streamlit pelo framework incr√≠vel
- OpenStreetMap pelos dados de mapas

## üìû Contato

Para d√∫vidas, sugest√µes ou suporte:
- Abra uma issue no GitHub
- Entre em contato via email

---

**Desenvolvido com ‚ù§Ô∏è para melhorar a log√≠stica no Brasil** üáßüá∑

